import{_ as s,c as n,o as a,a as l}from"./app.8ae323eb.js";const p="/blog/assets/encode_01.309d5a2b.png",e="/blog/assets/encode_02.9062628c.png",o="/blog/assets/encode_03.1c4afb2d.png",r="/blog/assets/encode_04.fc3a5065.png",h=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":2,"title":"编码基础知识","slug":"编码基础知识","link":"#编码基础知识","children":[{"level":3,"title":"ASCII 码","slug":"ascii-码","link":"#ascii-码","children":[]},{"level":3,"title":"Unicode 和 码点","slug":"unicode-和-码点","link":"#unicode-和-码点","children":[]},{"level":3,"title":"UTF-8, UTF-16","slug":"utf-8-utf-16","link":"#utf-8-utf-16","children":[]},{"level":3,"title":"进制转换","slug":"进制转换","link":"#进制转换","children":[]}]},{"level":2,"title":"\\\\ + 字符","slug":"字符","link":"#字符","children":[]},{"level":2,"title":"\\\\ + 八进制","slug":"八进制","link":"#八进制","children":[]},{"level":2,"title":"\\\\x + 两位十六进制","slug":"x-两位十六进制","link":"#x-两位十六进制","children":[]},{"level":2,"title":"\\\\u + 四位十六进制","slug":"u-四位十六进制","link":"#u-四位十六进制","children":[]},{"level":2,"title":"\\\\u{ + 十六进制 + }","slug":"u-十六进制","link":"#u-十六进制","children":[]},{"level":2,"title":"ES6 的模板字符串","slug":"es6-的模板字符串","link":"#es6-的模板字符串","children":[]},{"level":2,"title":"实际的应用","slug":"实际的应用","link":"#实际的应用","children":[{"level":3,"title":"匹配中文的正则","slug":"匹配中文的正则","link":"#匹配中文的正则","children":[]},{"level":3,"title":"去掉空白字符","slug":"去掉空白字符","link":"#去掉空白字符","children":[]},{"level":3,"title":"CSS content 属性 和 CSS 字体图标","slug":"css-content-属性-和-css-字体图标","link":"#css-content-属性-和-css-字体图标","children":[]},{"level":3,"title":"CSS 颜色色值","slug":"css-颜色色值","link":"#css-颜色色值","children":[]},{"level":3,"title":"字符个数统计","slug":"字符个数统计","link":"#字符个数统计","children":[]},{"level":3,"title":"文件类型识别","slug":"文件类型识别","link":"#文件类型识别","children":[]},{"level":3,"title":"其他","slug":"其他","link":"#其他","children":[]}]}],"relativePath":"front-end/other/encode.md"}'),c={name:"front-end/other/encode.md"},t=l(`<h2 id="前言" tabindex="-1">前言 <a class="header-anchor" href="#前言" aria-hidden="true">#</a></h2><p>字符是我们编写程序的基础的基础。</p><p>我们前端是最常见的字符，符号，数字，英文，中文， 我们通常都是使用直接量来表示，偶尔会在正则表达等场景用到 UTF-16 码点的格式，<strong>问题来了，那你知道 JS 有几种字符表示方式吗？</strong></p><p>答案：<strong>至少 6 种</strong>，以字符 a 为例子：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">;</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;a&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// &#39;a&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// &#39;a&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\141</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// &#39;a&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\x61</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// &#39;a&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\u0061</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// &#39;a&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\u{0061}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// &#39;a&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>前三种都很理解， 后面这又是<code>\\</code>, <code>\\x</code>, <code>\\u</code>, <code>\\u{}</code>， 这都是什么玩意？</p><p>别急，我们一一道来。</p><table><thead><tr><th style="text-align:center;">格式</th><th style="text-align:center;">示例</th><th style="text-align:center;">码点范围</th><th style="text-align:center;">注意</th></tr></thead><tbody><tr><td style="text-align:center;">\\8 进制</td><td style="text-align:center;"><code>&#39;\\141&#39;</code></td><td style="text-align:center;">0-255</td><td style="text-align:center;">模板字符串中不可直接使用</td></tr><tr><td style="text-align:center;">\\x 两位 16 进制</td><td style="text-align:center;"><code>&#39;\\x61&#39;</code></td><td style="text-align:center;">0-255</td><td style="text-align:center;">必须两位</td></tr><tr><td style="text-align:center;">\\u 四位 16 进制</td><td style="text-align:center;"><code>&#39;\\u0061&#39;</code></td><td style="text-align:center;">0-65535</td><td style="text-align:center;">必须四位</td></tr><tr><td style="text-align:center;"><code>\\u{16 进制}</code></td><td style="text-align:center;"><code>&#39;\\u{0061}&#39;</code></td><td style="text-align:center;">0-0x10FFFF</td><td style="text-align:center;">码点大于 0xFFFF,length 为 2，下标访问值是高低位的值</td></tr></tbody></table><h2 id="编码基础知识" tabindex="-1">编码基础知识 <a class="header-anchor" href="#编码基础知识" aria-hidden="true">#</a></h2><p>完全理解字符表示，还是需要一些<strong>简单的编码知识</strong>，我们一起来看看吧。</p><h3 id="ascii-码" tabindex="-1">ASCII 码 <a class="header-anchor" href="#ascii-码" aria-hidden="true">#</a></h3><p>ASCII 码一共定义了 128 个字符，例字母 a 是 97 (0110 0001)。这 128 个字符只使用了 8 位二进制数中的后面 7 位，最前面的一位统一规定为 0。</p><p>ASCII 码止共定义了 128 个字符，其中 33 个字符无法显示。0010 0000 ~ 0111 1110 (32-126)是可以显示的 ，基本都能使用键盘打出来， 具体参见对照表： <a href="http://c.biancheng.net/c/ascii//" target="_blank" rel="noreferrer">ASCII 编码对照表</a>。</p><p>ASCII 额外扩展的版本 EASCII，这里就可以使用一个完整子节的 8 个 bit 位表示共 256 个字符，其中就又包括了一些衍生的拉丁字母。 可以参见 <a href="https://www.lookuptables.com/text/extended-ascii-table" target="_blank" rel="noreferrer">extended-ascii-table</a>。</p><h3 id="unicode-和-码点" tabindex="-1">Unicode 和 码点 <a class="header-anchor" href="#unicode-和-码点" aria-hidden="true">#</a></h3><p>Unicode 是字符集， 为了兼容 ASCII，Unicode 规定前 0-127 个字符是和 ASCII 是一样的，<strong>不一样的是 128-255 这一部分</strong>。</p><p>我们一起看看 ASCII 128-255 部分:</p><p><img src="`+p+'" alt="encode_01"></p><p>再看看 Unicode 的 128-255 部分：</p><p><img src="'+e+`" alt="encode_02"></p><p>其给某个字符规定对应的数值，我们经常称其为码点。我们可以通过字符串的实例方法 <code>charCodeAt</code> 和 <code>codePointAt</code> 获取，前者只能准确获取码点值小于 <code>0xFFFF(65535)</code> 的码点。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">𠀠</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">codePointAt</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// 131104 0x20020 正确</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">𠀠</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">charCodeAt</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// 55360 0xd840 错误</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">charCodeAt</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// 97 0x0061 正确</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>对应的我们可以使用 String 的静态方法 fromCharCode,fromCodePoint 用码点获取对应的字符。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fromCodePoint</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">131104</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// &quot;𠀠&quot; 正确</span></span>
<span class="line"><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fromCharCode</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">131104</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// &quot; &quot; 错误</span></span>
<span class="line"><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">fromCharCode</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">97</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// &quot;a&quot; 正确</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="utf-8-utf-16" tabindex="-1">UTF-8, UTF-16 <a class="header-anchor" href="#utf-8-utf-16" aria-hidden="true">#</a></h3><p>我们平时接触比多的就是 UTF-8 和 UTF-16，均是 Unicode 字符编写的一种实现。 我们 JS 编码的字符串是 UTF-16 格式来存储的和表示的。</p><p>UTF-16 对于码点小于 0xFFFF 的用 2 个字节（<strong>1 个编码单元</strong>）表示，大于 0xFFFF 的编码用四个字节（<strong>2 个编码单元</strong>）表示。 <strong>具体的体现可以表现在字符的长度上</strong>。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">𠀠</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length </span><span style="color:#676E95;">// 2 码点 131104（0x20020）&gt; 65535 (0xFFFF)</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length </span><span style="color:#676E95;">// 1</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">人</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length </span><span style="color:#676E95;">// 1</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>这里强调 <code>0xFFFF</code> 是分界线</strong>，很重要。</p><h3 id="进制转换" tabindex="-1">进制转换 <a class="header-anchor" href="#进制转换" aria-hidden="true">#</a></h3><p>我们可以使用数字实例 toString()10 进制转为相对应的进制。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">97</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// 61</span></span>
<span class="line"><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">97</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// 1100001</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>下面进入正题, 一起来看字符的表示：</p><h2 id="字符" tabindex="-1"><code>\\</code> + 字符 <a class="header-anchor" href="#字符" aria-hidden="true">#</a></h2><p><code>\\</code> 是一个特殊的存在，转义字符，大多数情况下，不产生什么作用。 只对一些特殊的字符起作用。</p><p>从下可以看出 <code>\\a</code> 这个 <code>\\</code> 没有任何作用，对 <code>\\r</code> 就不一样了。</p><p><img src="`+o+`" alt="encode_03"></p><p>更多转义字符知识，参见 <a href="https://zh.wikipedia.org/wiki/%E8%BD%AC%E4%B9%89%E5%AD%97%E7%AC%A6" target="_blank" rel="noreferrer">转义字符-维基</a>。</p><h2 id="八进制" tabindex="-1"><code>\\</code> + <code>八进制</code> <a class="header-anchor" href="#八进制" aria-hidden="true">#</a></h2><p><strong>其能表示的码点范围值为 0-255</strong>。</p><p>这里提个问题， 这里显示的 ASCII 的字符，还是 Unicode 的字符。</p><ol><li>比如字符 a 为 97， 可以使用 charCodeAt 获取，</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">charCodeAt</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// 97</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>转为 8 进制为 <code>97..toString(8) = 141</code></li><li>\\141</li></ol><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\141</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// a</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>我们看一些特殊码点的字符，因为码点为 31 和 127 的字符，不能被显示或者表示。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// 37 = 31..toString(8)</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\37</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;\\x1F&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// 177 = 127..toString(8)</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\177</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;\\x7F&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>至于为什么 <code>\\177</code> 变为了 <code>\\x7F</code>， 是不是有点疑惑，其实也很简单。 当程序检查其值，不在可显示范围的时候，直接反向计算其原值，并转为 16 进制值，并使用<code>\\x 两位十六进制</code>格式表示。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// 177 = 127..toString(8)</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\177</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;\\x7F&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">127</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// 7f</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>关于表示码点上限(255)：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\377</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &quot;ÿ&quot; --- 码点 255</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\40</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39; 0&#39; --- 码点 256 // 大于 255 可以理解为 &#39;\\40&#39; + &#39;0&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>回答开始的提问:</p><p>我们这里显示的肯定是 Unicode 字符啊，前面提过了， JS 字符编码采用的是 UTF-16 啊。 可以用码点在 128-255 的一个字符试试， 那就码点 254 的字符吧:</p><p>扩展 ASCII 254：</p><p>Unicode 254: &#39;þ&#39;</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">//376 = 254..toString(8)</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\376</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;þ&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>所以大家要明白，我们这各种字符表示方法，表示的都是 Unicode 字符。</p><p>关于 <code>\\x 两位十六进制</code> 格式，我们开讲。</p><h2 id="x-两位十六进制" tabindex="-1"><code>\\x</code> + <code>两位十六进制</code> <a class="header-anchor" href="#x-两位十六进制" aria-hidden="true">#</a></h2><p>我们可以用 0x 表示 16 进制的数字，所以\\x 大家也很好理解，是 16 进制。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#F78C6C;">0x61</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 97 0x 表示 16 进制格式数字</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">charCodeAt</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// 获取码点 97</span></span>
<span class="line"><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">97</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toString</span><span style="color:#A6ACCD;">(</span><span style="color:#F78C6C;">16</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// 转为 16 进制 61</span></span>
<span class="line"><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\x61</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// &#39;a&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>两位十六进制码点, 0x00 ~ 0xFF（0~255） , 和 \\八进制码一样，不可显示的码点字符，直接显示其编码</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// 1f = 31..toString(16)</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\x1F</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;\\x1F&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// 20 = 32..toString(16)</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\x20</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39; &#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// 7e = 126..toString(16)</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\x7e</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;~&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// 7f = 127..toString(16)</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\x7f</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;\\x7F&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;">// 80 = 128..toString(16)</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\x80</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;\\x80&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>到这里你可能问，你这里，那么这不能显示，那不能显示，有没有一个表啊。有的， 参见 <a href="http://titus.uni-frankfurt.de/unicode/unitestx.htm" target="_blank" rel="noreferrer">Unicode 码表</a>, 这里记录了 0x0000 到 0xFFFF 的码点的字符，一般情况准够用。</p><p><strong>0-255 码点范围内， 0x00 到 0x1F<code>(0-31)</code>, 0x80 到 0x9F<code>(128-159)</code>是无法显示的或者看不见的</strong>。</p><p><img src="`+r+`" alt="encode_04"></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\x9F</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;\\x9F&#39; // 编码输出</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\xA1</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &quot;¡&quot; // 正常</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这个结果，在不通浏览器，可能输出还不一样。 尽量采用最新版本的 chrome 去验证。</p><h2 id="u-四位十六进制" tabindex="-1"><code>\\u</code> + <code>四位十六进制</code> <a class="header-anchor" href="#u-四位十六进制" aria-hidden="true">#</a></h2><p>这里固定是 4 位，少一位都不行。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\u0061</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &quot;a&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\u</span><span style="color:#C3E88D;">061</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 报错</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>还是 4 位，如果多了, 截取前 4 位，后面的直接追加。看个例子，非常好理解。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\u0061</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;a&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\u0061</span><span style="color:#C3E88D;">0</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;a0&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>这里也就反应了问题，码点大于 0xFFFF，大于 4 位 16 进制的字符怎么表示？？？</p><p>ES6 考虑了这个问题，于是推出了 <code>\\u{ + 十六进制 + }</code>， 看下个章节。</p><p>我们之前说过，UTF-16 是 Unicode 的一种实现，Unicode 的代理区 <code>0xD800-0xDFFF</code> ， 其不代表任何字符。同理，我们采用<code>\\u</code> + <code>四位十六进制</code>方式，如果码点在这个区间，返回 � 或者原字符（浏览器不同，可能返回不同）, 当然其他的码点也可能还没设定值或者是不可打印的。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\uD800</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;\\uD800&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\uDFFF</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;\\uD800&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>实际上 UTF-16 也就是利用了代理区，把码点大于 0xFFFF 字符分为高低两部分, 索引值 0 获得的值实际上是高位部分，索引值 1 获得的是低位部分。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> text </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">𠀠</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">text[</span><span style="color:#F78C6C;">0</span><span style="color:#A6ACCD;">] </span><span style="color:#676E95;">// &#39;\\uD840&#39;</span></span>
<span class="line"><span style="color:#A6ACCD;">text[</span><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">] </span><span style="color:#676E95;">// &#39;\\uDC20&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>更多 utf-16 编码的知识，我们后续跟上。</p><h2 id="u-十六进制" tabindex="-1"><code>\\u{</code> + <code>十六进制</code> + <code>}</code> <a class="header-anchor" href="#u-十六进制" aria-hidden="true">#</a></h2><p>ES6 新增的能力。 这个多了一个 <code>{}</code> 包裹。</p><p>这个应该是可以一统江湖，可以表示码点低于 0xFFFF 的字符，也可表示码点大于 0xFFFF 的字符。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\u{20020}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;𠀠&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\u{0061}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;a&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\u{061}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;a&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\u{61}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;a&#39;</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\u{9}</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &quot;\\t&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>而且其还没有强制四位的限制，简直爽的没法没边。</p><p>缺点嘛，那就是兼容性了，就让时间去磨平吧。</p><h2 id="es6-的模板字符串" tabindex="-1">ES6 的模板字符串 <a class="header-anchor" href="#es6-的模板字符串" aria-hidden="true">#</a></h2><p>ES6 的模板字符串，可以说是爽歪歪，我们就也算其一种新的字符表示方式吧。</p><p>我们也是可以使用\\u， \\u{}, \\x 格式的</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// 61 = &quot;a&quot;.charCodeAt(0).toString(16)</span></span>
<span class="line"><span style="color:#89DDFF;">;</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">我</span><span style="color:#A6ACCD;">\\u{61}</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 我 a</span></span>
<span class="line"><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">我</span><span style="color:#A6ACCD;">\\x61</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 我 a</span></span>
<span class="line"><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">我</span><span style="color:#A6ACCD;">\\u0061</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 我 a</span></span>
<span class="line"><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">我</span><span style="color:#A6ACCD;">\\a</span><span style="color:#89DDFF;">\`</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 我 a</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>到这里，你们没觉得少了了点什么吗？ 没错 \\8 进制，是不被允许的</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// 141 = &quot;a&quot;.charCodeAt(0).toString(8)</span></span>
<span class="line"><span style="color:#89DDFF;">;</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">我</span><span style="color:#A6ACCD;">\\141</span><span style="color:#89DDFF;">\`</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>如果，你非得用，那就 <code>\${&#39;&#39;}</code> 包裹一下：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">;</span><span style="color:#89DDFF;">\`</span><span style="color:#C3E88D;">我</span><span style="color:#89DDFF;">\${&#39;</span><span style="color:#A6ACCD;">\\141</span><span style="color:#89DDFF;">&#39;}\`</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// &#39;我 a&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="实际的应用" tabindex="-1">实际的应用 <a class="header-anchor" href="#实际的应用" aria-hidden="true">#</a></h2><h3 id="匹配中文的正则" tabindex="-1">匹配中文的正则 <a class="header-anchor" href="#匹配中文的正则" aria-hidden="true">#</a></h3><p>我们总不能去罗列，多义采取的是[\\u4e00-\\u9fa5]这种格式去匹配：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">var</span><span style="color:#A6ACCD;"> regZH </span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/[</span><span style="color:#C3E88D;">\\u4e00-\\u9fa5</span><span style="color:#89DDFF;">]/</span><span style="color:#F78C6C;">g</span></span>
<span class="line"><span style="color:#A6ACCD;">regZH</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">test</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// false</span></span>
<span class="line"><span style="color:#A6ACCD;">regZH</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">test</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">人</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// true</span></span>
<span class="line"><span style="color:#A6ACCD;">regZH</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">test</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">𠀠</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// false 尴尬了不</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>这里注意了，只能识别常见中文</strong>。, 毕竟码点的范围就那么大点。</p><h3 id="去掉空白字符" tabindex="-1">去掉空白字符 <a class="header-anchor" href="#去掉空白字符" aria-hidden="true">#</a></h3><p>看看 MDN 上 <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String/Trim" target="_blank" rel="noreferrer">String.prototype.trim</a></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;">!</span><span style="color:#FFCB6B;">String</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">trim) </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#FFCB6B;">String</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">prototype</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">trim</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">function</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#82AAFF;">replace</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">/</span><span style="color:#89DDFF;">^</span><span style="color:#89DDFF;">[</span><span style="color:#C3E88D;">\\s\\uFEFF\\xA0</span><span style="color:#89DDFF;">]+|[</span><span style="color:#C3E88D;">\\s\\uFEFF\\xA0</span><span style="color:#89DDFF;">]+</span><span style="color:#A6ACCD;">\\$</span><span style="color:#89DDFF;">/</span><span style="color:#F78C6C;">g</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>我们一起来看一下著名的 core-js 对 trim 的空白字符的理解 <a href="https://github.com/zloirock/core-js/blob/21ef59549f62ce082f8f7c3b478a721241f5e959/packages/core-js/internals/whitespaces.js" target="_blank" rel="noreferrer">whitespaces.js</a></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">module.exports</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>我们还是输出一下吧：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\u0009\\u000A\\u000B\\u000C\\u000D\\u0020\\u00A0\\u1680\\u2000\\u2001\\u2002</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#676E95;">// &#39;\\t\\n\\v\\f\\r                 　 \uFEFF&#39;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="css-content-属性-和-css-字体图标" tabindex="-1">CSS content 属性 和 CSS 字体图标 <a class="header-anchor" href="#css-content-属性-和-css-字体图标" aria-hidden="true">#</a></h3><p>现代浏览器，已经支持中文，但是建议还是使用 <code>\\16 进制</code>编码格式 。 这里使用的是 <code>\\16 进制</code>， 不需要 <code>u</code> 也不需要 <code>{}</code>, 支持码点大于 <code>0xFFFF</code> 的字符</p><div class="language-css line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki"><code><span class="line"><span style="color:#FFCB6B;">div</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">me</span><span style="color:#89DDFF;">::</span><span style="color:#C792EA;">before</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">content</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\6211</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">/* 我 */</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">padding-right</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#FFCB6B;">div</span><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">me</span><span style="color:#89DDFF;">::</span><span style="color:#C792EA;">before</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">content</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">\\20020</span><span style="color:#C3E88D;">:</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">/* 𠀠 */</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">padding-right</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">10px</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="css-颜色色值" tabindex="-1">CSS 颜色色值 <a class="header-anchor" href="#css-颜色色值" aria-hidden="true">#</a></h3><p>字体颜色，背景颜色，边框颜色等等，其有一种表示方式就是 6 位 16 进制，当然也有简写形式。</p><div class="language-css line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">css</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">.</span><span style="color:#FFCB6B;">title</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#B2CCD6;">color</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">#</span><span style="color:#A6ACCD;">fff</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="字符个数统计" tabindex="-1">字符个数统计 <a class="header-anchor" href="#字符个数统计" aria-hidden="true">#</a></h3><p>这个是利用了 UTF-16 编码特性。 因为\\uD800-\\DFFF 是代理区，具体 UTF-16 编码的东西，单独来讲解。 也可以看见文章 为什么一定是 �, 里面有完整的解释。</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> spRegexp </span><span style="color:#89DDFF;">=</span><span style="color:#C3E88D;"> </span><span style="color:#89DDFF;">/[</span><span style="color:#C3E88D;">\\uD800-\\uDBFF</span><span style="color:#89DDFF;">][</span><span style="color:#C3E88D;">\\udc00-\\udfff</span><span style="color:#89DDFF;">]/</span><span style="color:#F78C6C;">g</span></span>
<span class="line"><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">chCounts</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">return</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">str</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">spRegexp</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">_</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#82AAFF;">chCounts</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">𠀠</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">) </span><span style="color:#676E95;">// 1</span></span>
<span class="line"><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">𠀠</span><span style="color:#89DDFF;">&#39;</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length </span><span style="color:#676E95;">// 2</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>ES6 中的方式就多一些了：</p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">Array</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">from</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">𠀠</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length </span><span style="color:#676E95;">//1</span></span>
<span class="line"><span style="color:#A6ACCD;">[</span><span style="color:#89DDFF;">...</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">𠀠</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;">]</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">length </span><span style="color:#676E95;">// 1</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h3 id="文件类型识别" tabindex="-1">文件类型识别 <a class="header-anchor" href="#文件类型识别" aria-hidden="true">#</a></h3><p>具体可以参见阿宝哥的 <a href="https://juejin.cn/post/6971935704938971173" target="_blank" rel="noreferrer">JavaScript 如何检测文件的类型?</a></p><div class="language-js line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> isPNG </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">check</span><span style="color:#A6ACCD;">([</span><span style="color:#F78C6C;">0x89</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0x50</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0x4e</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0x47</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0x0d</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0x0a</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0x1a</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0x0a</span><span style="color:#A6ACCD;">]) </span><span style="color:#676E95;">// PNG 图片对应的魔数</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#A6ACCD;"> realFileElement </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">querySelector</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">#realFileType</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">function</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">handleChange</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">file</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">event</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">target</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">files</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">buffers</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">await</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">readBuffer</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">file</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">8</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">uint8Array</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Uint8Array</span><span style="color:#F07178;">(</span><span style="color:#A6ACCD;">buffers</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#A6ACCD;">realFileElement</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">innerText</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">\`\${</span><span style="color:#A6ACCD;">file</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">name</span><span style="color:#89DDFF;">}</span><span style="color:#C3E88D;">文件的类型是：</span><span style="color:#89DDFF;">\${</span><span style="color:#82AAFF;">isPNG</span><span style="color:#A6ACCD;">(uint8Array) </span><span style="color:#89DDFF;">?</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">image/png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> file</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">type</span><span style="color:#89DDFF;">}\`</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="其他" tabindex="-1">其他 <a class="header-anchor" href="#其他" aria-hidden="true">#</a></h3><ul><li>emoji 图标</li><li>编码转换，比如 utf-8 转 base64</li><li>等等</li></ul>`,123),i=[t];function y(D,F,C,d,A,u){return a(),n("div",null,i)}const m=s(c,[["render",y]]);export{h as __pageData,m as default};
